!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=10)}([function(e,t){e.exports=require("inversify")},function(e,t){e.exports=require("reflect-metadata")},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=r(12),a=function(){function e(){}return e.prototype.createUser=function(e){var t=i.UserMapper.serialize(e);console.log(t.toDatabase())},e.prototype.test=function(e){console.log(e)},e=n([o.injectable()],e)}();t.UserInfra=a},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=function(){function e(e,t){this.name=e,this.age=t}return e.prototype.growUp=function(){this.age++},e.prototype.displayAge=function(){return this.name+" is "+this.age+" years old"},e.prototype.toInterface=function(){return{age:this.age,name:this.name}},e=n([i.injectable(),o("design:paramtypes",[String,Number])],e)}();t.User=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={UserInfra:Symbol.for("UserInfra")};t.default=n},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),c=r(3),u=r(2),s=r(4),f=function(){function e(e){this.userInfra=e}return e.prototype.createUser=function(e){var t=new c.User(e.name,e.age);return this.userInfra.createUser(t),t},e=n([a.injectable(),i(0,a.inject(s.default.UserInfra)),o("design:paramtypes",[u.UserInfra])],e)}();t.UserFactory=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={User:Symbol.for("User"),UserFactory:Symbol.for("UserFactory")};t.default=n},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),c=r(5),u=r(6),s=function(){function e(e){this.userFactory=e}return e.prototype.proceed=function(e){var t=this.userFactory.createUser({name:"vincent",age:e});return console.log(t.displayAge()),t.growUp(),console.log(t.displayAge()),t.toInterface()},e.prototype.createUser=function(e){return this.userFactory.createUser(e).toInterface()},e=n([a.injectable(),i(0,a.inject(u.default.UserFactory)),o("design:paramtypes",[c.UserFactory])],e)}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={UserApp:Symbol.for("UserApp")};t.default=n},function(e,t){e.exports=require("inversify-express-utils")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(1);var n=r(0),o=r(11),i=r(13),a=r(14),c=r(15),u=new n.Container;u.load(o.infraModule),u.load(i.domainModule),u.load(a.appModule),u.load(c.httpInterfaceModule),c.init(u)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(2),i=r(4);t.infraModule=new n.ContainerModule(function(e){e(i.default.UserInfra).to(o.UserInfra).inSingletonScope()})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(e,t){this.name=e,this.age=t}return e.serialize=function(t){return new e(t.name,t.age)},e.prototype.deserialize=function(){return new n.User(this.name,this.age)},e.prototype.toDatabase=function(){return{age:this.age,name:this.name}},e}();t.UserMapper=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(5),i=r(6);t.domainModule=new n.ContainerModule(function(e){e(i.default.UserFactory).to(o.UserFactory).inSingletonScope()})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);r(1);var o=r(7),i=r(8);t.appModule=new n.ContainerModule(function(e){e(i.default.UserApp).to(o.default).inSingletonScope()})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(9),i=r(16),a=r(17),c=r(22);t.httpInterfaceModule=new n.ContainerModule(function(e){e(c.default.UserController).to(a.UserController).inSingletonScope()}),t.init=function(e){var t=new o.InversifyExpressServer(e);t.setConfig(function(e){e.use(i.urlencoded({extended:!0})),e.use(i.json())}),t.build().listen(3e3)}},function(e,t){e.exports=require("body-parser")},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(9),c=r(0),u=r(8),s=r(7),f=r(18),l=r(19),p=(r(21),function(){function e(e){this.userApp=e}return e.prototype.getUser=function(e){return this.userApp.proceed(e)},e.prototype.createUser=function(e,t){return this.userApp.createUser({age:e.body.age,name:e.body.name})},n([a.httpGet("/:id",f.celebrate(l.getUserByIdSchema),f.errors()),i(0,a.requestParam("id")),o("design:type",Function),o("design:paramtypes",[Number]),o("design:returntype",Object)],e.prototype,"getUser",null),n([a.httpPost("/",f.celebrate(l.createUserSchema),f.errors()),i(0,a.request()),i(1,a.response()),o("design:type",Function),o("design:paramtypes",[Object,Object]),o("design:returntype",Object)],e.prototype,"createUser",null),e=n([a.controller("/users"),i(0,c.inject(u.default.UserApp)),o("design:paramtypes",[s.default])],e)}());t.UserController=p},function(e,t){e.exports=require("celebrate")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20);t.getUserByIdSchema={params:n.object().keys({id:n.number().required()})},t.createUserSchema={body:n.object().keys({age:n.number().positive().required(),name:n.string().required()})}},function(e,t){e.exports=require("joi")},function(e,t){e.exports=require("express")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={UserController:Symbol.for("UserController")};t.default=n}]);